<?php

/**
 * @file
 * Allows Better Configuration of Contact forms.
 */
 
/**
 * Implements hook_mail_alter().
 */
 

// Use hook_mail_alter

function mail_override_mail_alter(&$message) {
    // Only apply to mail messages for the personal contact form and the copy option
  if ($message['id'] == 'contact_user_mail' || $message['id'] == 'contact_user_copy') { 
  
  // Pass in params from the $messages array, this is required to return usernames propperly!
   $user = $message['params']['user'];
   $account = $message['params']['account'];
      
    // Alter the $messages body array values to something more friendly, the array key will count from 0 and you can find them in contact.module    
    // Remove the bulky full url link and instead link up the Senders username 
   $message['body'][1] = t('<a href="!name-url">!name</a>'." has sent you a message via your contact form on the !site system.", array('!name' => $user->name, '!name-url' => url("user/$user->uid", array('absolute' => TRUE, 'language' => $language)), '!site' => variable_get('site_name', 'Drupal')), $language->language);
    // Repete as required
    $message['body'][2] = t('<strong>Message:</strong>', NULL, $language->language);

  }
}
?>